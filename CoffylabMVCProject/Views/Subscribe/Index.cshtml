@model List<CoffylabMVCProject.Entities.Subscribe>
@{
	ViewData["Title"] = "Index";
	Layout = "~/Views/AdminLayout/Index.cshtml";
}

<div class="content-wrapper">
	<div class="page-header">
		<h6 class="page-title">Newsletter Request</h6>
	</div>

	<div class="row">
		<div class="col-lg-12 grid-margin stretch-card">
			<div class="card">
				<div class="card-body">

					<table class="table table-bordered table-hover">
						<thead>
							<tr>
								<th><b>No</b></th>
								<th>Email</th>
								<th>Send Date</th>
								<th>Membership<br />Status</th>
								<th>Operations</th>
							</tr>
						</thead>
						<tbody>
							@foreach (var item in Model)
							{
								<tr>
									<td><b>@item.SubscribeId</b></td>
									<td>@item.Email</td>
									<td>@item.SendDate.ToString("dd.MM.yyyy HH:mm")</td>
									@if (item.ApprovalStatus == false)
									{
										<td style="color: #DAA520" align="center"><b>waiting</b></td>
									}
									else
									{
										<td style="color: #228B22" align="center"><b>approved</b></td>
									}
									<td align="center">
										<form method="post" asp-controller="Subscribe" asp-action="ChangeApprovalStatus" asp-route-id="@item.SubscribeId" style="display:inline;">
											<button type="submit" class="btn btn-gradient-info btn-sm" style="font-size: 12px">
												<i class="fa fa-edit fa-sm me-1"></i>Update
											</button>
										</form>
									</td>
								</tr>
							}

						</tbody>
					</table>
				</div>
			</div>

		</div>
	</div>
</div>

